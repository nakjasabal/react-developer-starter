<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
	<h2>스프레드 연산자(Spread operator)</h2>
	<script>
	/*
	스프레드 연산자는 객체 혹은 배열의 값을 다른객체나 배열로 복제하거나 
	옮길때 사용한다. '...'과 같이 다소 특이한 형태의 문법을 사용한다. 
	배열, 문자열, 객체 등 반복 가능한 객체(Iterable object)를 개별요소로
	분리할 수 있다. 
	객체의 특정 부분만 변화시키거나, 최초의 상태를 유지하며 데이터를 추가하는
	등의 경우에 사용된다. 
	*/
	//es5에서 배열 병합 : concat() 함수 사용
	let arr1 = [1,2,3]; 
	let arr2 = [4,5,6]; 

	const func1 = () => {
		//es6에서 배열 병합
		let new_arr2 = [...arr1, ...arr2]; 
		console.log('결과1-1', new_arr2);

		//병합2 : 배열의 원소처럼 추가해서 연결한다. 			
		let arr3 = [...arr2, 7, 8, 9]; 
		console.log('결과1-2', arr3);
	}
	const func2 = () => {
		//문자열을 개별 요소로 분리할 수 있다.
		let str1 = 'good morning'; 
		let str2 = [...str1]; 
		console.log('결과2', str2);// ['g', 'o', 'o', 'd' 이와같이 분리된다. 
	}
	/* 
	es5에서는 배열의 원소를 매개변수로 전달하려면 인덱스를 통해 별도로 
	지정해야 했지만, 스프레드 연산자를 사용하면 배열 형태에서 바로 함수의
	인수로 넣어줄 수 있다. 
	*/    
	const func3 = () => {			
		//es5
		let result1 = Math.min(arr1[0], arr1[1], arr1[2]);
		console.log("결과3-1(최솟값)", result1);

		//es6의 스프레드 연산자 사용 : 배열을 통째로 전달할 수 있다. 
		let result2 = Math.max(...arr2);
		console.log("결과3-2(최대값)", result2);
	}
	const func4 = () => {
		//객체를 포함하고 있는 배열로 정의 
		var contacts = [
			{name:'철수', age:10}, 
			{name:'영희', age:11}, 
			{name:'유겸', age:12}
		];
		var maxAge = Math.max(...contacts.map((item) => item.age));
		console.log('결과4', maxAge);
	}
	const func5 = () => {
		//기존 객체에 프로퍼티를 추가한다. 
		var boy = { name:'유겸', job:'초등학생'};
		boy = {...boy, age:12}; 
		console.log('결과5-1', boy);

		//기존의 프로퍼티 값을 변경(업데이트)한다. 
		boy = {...boy, name:'유비', age:50, job:'촉의황제'}; 
		console.log('결과5-2', boy);
	}
	</script>
	<div>
		<button type="button" onclick="func1();">버튼1</button>
		<button type="button" onclick="func2();">버튼2</button>
		<button type="button" onclick="func3();">버튼3</button>
		<button type="button" onclick="func4();">버튼4</button>
		<button type="button" onclick="func5();">버튼5</button>
	</div>
</body>
</html>
 